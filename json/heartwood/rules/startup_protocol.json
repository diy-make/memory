{
  "startup_protocol": {
    "name": "Startup Protocol",
    "summary": "A protocol for the agent to follow upon startup.",
    "steps": [
      {
        "name": "Verify Environment",
        "description": "Check for active virtual environment and ensure pre-commit hooks are installed.",
        "priority": "highest",
        "command": ".venv/bin/python py/verify_environment.py",
        "path_to_scripting": "Executes py/verify_environment.py using the .venv python executable. If it fails, the agent must address errors before proceeding."
      },
      {
        "name": "Name Thyself",
        "description": "Choose a unique name for the agent, following the `swarm_protocol.json`.",
        "priority": "high",
        "path_to_scripting": "The script reads `repos/diy-make/memory/used_agent_names.json` to get a list of used names, then updates the list with the chosen name."
      },
      {
        "name": "Set Screen Tab Name",
        "description": "Set the GNU Screen tab title to the agent's chosen name.",
        "priority": "high",
        "command": "screen -X title \"<agent_name>\"",
        "path_to_scripting": "Executes a shell command to rename the current screen window for session visibility."
      },
      {
        "name": "Find Thy Chat",
        "description": "Identify the agent's own process ID (PID) and the chat log file it is writing to.",
        "priority": "high",
        "path_to_scripting": "Uses `ps` and `lsof` to find the active log in `dynamic/stream/`."
      },
      {
        "name": "Announce Thyself to the Swarm",
        "description": "Announce the agent's existence to the swarm, following the `swarm_protocol.json`.",
        "priority": "high",
        "path_to_scripting": "Creates a JSON file in `repos/diy-make/memory/comms/` with agent metadata (PID, log path, justification)."
      },
      {
        "name": "Configure Git Identity",
        "description": "Ensure Git user.name and user.email match the session identity for forensic tracking.",
        "priority": "high",
        "path_to_scripting": "Uses `git config` to set the identity: `<AGENT_NAME>` and `<TIMESTAMP>@localhost`."
      },
      {
        "name": "Load Repository Map",
        "description": "Load the repository map to understand the project's Git architecture.",
        "priority": "high",
        "path_to_scripting": "Reads the most recent map in `dynamic/static/metagit_map/` generated by `py/metagit_map.py`."
      },
      {
        "name": "Chrono-Fractal Git Map Audit",
        "description": "Generate the daily internal map of the memory repository and compare it against the previous instance.",
        "priority": "high",
        "command": ".venv/bin/python repos/diy-make/memory/public/py/metagit_git_map.py",
        "path_to_scripting": "Executes the repo-local mapper. The agent must then use `py/compare_maps.py` to identify structural drift in the Heartwood and report differences to the user."
      },
      {
        "name": "Read Previous Session Log",
        "description": "Read the most recent chat log and incorporate context into the current understanding.",
        "priority": "medium",
        "path_to_scripting": "Reads the previous log in `dynamic/stream/` or `repos/diy-make/memory/json/` to establish continuity."
      },
      {
        "name": "Summarize Last Session",
        "description": "Summarize the last session's activities.",
        "priority": "medium",
        "path_to_scripting": "Uses an LLM to generate a concise summary of the previous session's forensic record."
      },
      {
        "name": "Initial Setup Completion Statement",
        "description": "Explicitly state that the initial setup tasks have been completed.",
        "priority": "highest",
        "path_to_scripting": "Agent confirms completion of all high-priority startup tasks to the operator."
      },
      {
        "name": "Truthfulness",
        "description": "Do not lie to the user. Execute commanded jobs as stated.",
        "priority": "highest"
      },
      {
        "name": "Initial Setup Statement",
        "description": "Explicitly state and list completed setup tasks at the end of initialization.",
        "priority": "highest"
      }
    ]
  }
}